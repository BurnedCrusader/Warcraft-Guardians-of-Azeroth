namespace = WCLIFES

# Becoming a Brewmaster
character_event = {
	id = WCLIFES.1
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.1
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes


	option = {
		name = EVTOPTA_WCLIFES.1
		character_event = { id = WCLIFES.2 days = 120 random = 90 }
	}
}

character_event = {
	id = WCLIFES.2
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.2
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes


	option = {
		name = EVTOPTA_WCLIFES.2
		add_trait = brewmaster
		if = {
			limit = { trait = drunkard }
			remove_trait = drunkard
		}
		clr_character_flag = becoming_brewmaster
		clr_character_flag = do_not_disturb
	}
}

character_event = {
	id = WCLIFES.10
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.10
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes


	option = {
		name = EVTOPTA_WCLIFES.10
		custom_tooltip = { text = brewing_option_diplomacy }
		set_character_flag = brew_diplomacy
		character_event = { id = WCLIFES.20 days = 90 }
	}
	option = {
		name = EVTOPTB_WCLIFES.10
		custom_tooltip = { text = brewing_option_martial }
		set_character_flag = brew_martial
		character_event = { id = WCLIFES.20 days = 90 }
	}
	option = {
		name = EVTOPTC_WCLIFES.10
		custom_tooltip = { text = brewing_option_stewardship }
		set_character_flag = brew_stewardship
		character_event = { id = WCLIFES.20 days = 90 }
	}
	option = {
		name = EVTOPTD_WCLIFES.10
		character_event = { id = WCLIFES.11 }
	}
}
character_event = {
	id = WCLIFES.11
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.10
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes


	option = {
		custom_tooltip = { text = brewing_option_intrigue }
		name = EVTOPTA_WCLIFES.11
		set_character_flag = brew_intrigue
		character_event = { id = WCLIFES.20 days = 90 }
	}
	option = {
		name = EVTOPTB_WCLIFES.11
		custom_tooltip = { text = brewing_option_learning }
		set_character_flag = brew_learning
		character_event = { id = WCLIFES.20 days = 90 }
	}
	option = {
		name = EVTOPTD_WCLIFES.10
		character_event = { id = WCLIFES.10 }
	}
	option = {
		name = EVTOPTD_WCLIFES.11
		clr_character_flag = do_not_disturb
		wealth = 100
	}
}
character_event = {
	id = WCLIFES.20
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.20
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCLIFES.20
		if = {
			limit = { has_character_flag = brew_diplomacy }
			clr_character_flag = brew_diplomacy
			add_artifact = halaani_whiskey_keg
			new_artifact = {
				set_name = "Full [This.GetName]"
				set_artifact_flag = keg_fullness_3
			}
		}
		if = {
			limit = { has_character_flag = brew_martial }
			clr_character_flag = brew_martial
			add_artifact = sulfuron_slammer_keg
			new_artifact = {
				set_name = "Full [This.GetName]"
				set_artifact_flag = keg_fullness_3
			}
		}
		if = {
			limit = { has_character_flag = brew_stewardship }
			clr_character_flag = brew_stewardship
			add_artifact = metal_brew_keg
			new_artifact = {
				set_name = "Full [This.GetName]"
				set_artifact_flag = keg_fullness_3
			}
		}
		if = {
			limit = { has_character_flag = brew_intrigue }
			clr_character_flag = brew_intrigue
			add_artifact = tiger_stout_keg
			new_artifact = {
				set_name = "Full [This.GetName]"
				set_artifact_flag = keg_fullness_3
			}
		}
		if = {
			limit = { has_character_flag = brew_learning }
			clr_character_flag = brew_learning
			add_artifact = serpent_ale_keg
			new_artifact = {
				set_name = "Full [This.GetName]"
				set_artifact_flag = keg_fullness_3
			}
		}
		clr_character_flag = do_not_disturb
	}
}
# character_event = {
	# id = WCLIFES.30
	# picture = GFX_evt_brewmaster
	# desc = EVTDESC_WCLIFES.30
	# border = GFX_event_normal_frame_diplomacy

	# is_triggered_only = yes


	# option = {
		# name = EVTOPTA_WCLIFES.30
		# trigger = { has_artifact = halaani_whiskey_keg }
		# event_target:brew_receiver = {
			# set_character_flag = drank_brew_diplomacy
			# character_event = { id = WCLIFES.35 }
		# }
	# }
	# option = {
		# name = EVTOPTB_WCLIFES.30
		# trigger = { has_artifact = sulfuron_slammer_keg }
		# event_target:brew_receiver = {
			# set_character_flag = drank_brew_martial
			# character_event = { id = WCLIFES.35 }
		# }
	# }
	# option = {
		# name = EVTOPTC_WCLIFES.30
		# trigger = { has_artifact = metal_brew_keg }
		# event_target:brew_receiver = {
			# set_character_flag = drank_brew_stewardship
			# character_event = { id = WCLIFES.35 }
		# }
	# }
	# option = {
		# name = EVTOPTD_WCLIFES.30
		# trigger = {
			# OR = {
				# has_artifact = tiger_stout_keg
				# has_artifact = serpent_ale_keg
			# }
		# }
		# character_event = { id = WCLIFES.31 }
	# }
# }
# character_event = {
	# id = WCLIFES.31
	# picture = GFX_evt_brewmaster
	# desc = EVTDESC_WCLIFES.30
	# border = GFX_event_normal_frame_diplomacy

	# is_triggered_only = yes


	# option = {
		# name = EVTOPTA_WCLIFES.31
		# trigger = { has_artifact = tiger_stout_keg }
		# event_target:brew_receiver = {
			# set_character_flag = drank_brew_intrigue
			# character_event = { id = WCLIFES.35 }
		# }
	# }
	# option = {
		# name = EVTOPTB_WCLIFES.31
		# trigger = { has_artifact = serpent_ale_keg }
		# event_target:brew_receiver = {
			# set_character_flag = drank_brew_learning
			# character_event = { id = WCLIFES.35 }
		# }
	# }
	# option = {
		# name = EVTOPTD_WCLIFES.30
		# trigger = {
			# OR = {
				# has_artifact = halaani_whiskey_keg
				# has_artifact = sulfuron_slammer_keg
				# has_artifact = metal_brew_keg
			# }
		# }
		# character_event = { id = WCLIFES.30 }
	# }
# }
character_event = {
	id = WCLIFES.35
	picture = GFX_evt_brewmaster
	desc = EVTDESC_WCLIFES.35
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCLIFES.35
		event_target:brew_giver = { clr_character_flag = do_not_disturb }
		event_target:brew_keg = { drink_keg_brew_effect = yes }
		if = {
			limit = { NOT = { character = event_target:brew_giver  } }
			opinion = { modifier = opinion_grateful who = event_target:brew_giver years = 5 }
		}
		if = {
			limit = { event_target:brew_keg = { artifact_type = halaani_whiskey_keg } }
			event_target:brew_receiver = { add_character_modifier = { name = halaani_whiskey_intoxication months = 36 } }
		}
		else_if = {
			limit = { event_target:brew_keg = { artifact_type = sulfuron_slammer_keg } }
			event_target:brew_receiver = { add_character_modifier = { name = sulfuron_slammer_intoxication months = 36 } }
		}
		else_if = {
			limit = { event_target:brew_keg = { artifact_type = metal_brew_keg } }
			event_target:brew_receiver = { add_character_modifier = { name = metal_brew_intoxication months = 36 } }
		}
		else_if = {
			limit = { event_target:brew_keg = { artifact_type = tiger_stout_keg } }
			event_target:brew_receiver = { add_character_modifier = { name = tiger_stout_intoxication months = 36 } }
		}
		else = {
			add_character_modifier = { name = serpent_ale_intoxication months = 36 }
		}
		# if = {
			# limit = { has_character_flag = drank_brew_diplomacy }
			# clr_character_flag = drank_brew_diplomacy
			# add_character_modifier = { name = halaani_whiskey_intoxication months = 36 }
			# event_target:brew_giver = {
				# random_artifact = {
					# limit = { artifact_type = halaani_whiskey_keg }
					# drink_keg_brew_effect = yes
				# }
			# }
		# }
		# if = {
			# limit = { has_character_flag = drank_brew_martial }
			# clr_character_flag = drank_brew_martial
			# add_character_modifier = { name = sulfuron_slammer_intoxication months = 36 }
			# event_target:brew_giver = {
				# random_artifact = {
					# limit = { artifact_type = sulfuron_slammer_keg }
					# drink_keg_brew_effect = yes
				# }
			# }
		# }
		# if = {
			# limit = { has_character_flag = drank_brew_stewardship }
			# clr_character_flag = drank_brew_stewardship
			# add_character_modifier = { name = metal_brew_intoxication months = 36 }
			# event_target:brew_giver = {
				# random_artifact = {
					# limit = { artifact_type = metal_brew_keg }
					# drink_keg_brew_effect = yes
				# }
			# }
		# }
		# if = {
			# limit = { has_character_flag = brew_intrigue }
			# clr_character_flag = drank_brew_intrigue
			# add_character_modifier = { name = tiger_stout_intoxication months = 36 }
			# event_target:brew_giver = {
				# random_artifact = {
					# limit = { artifact_type = tiger_stout_keg }
					# drink_keg_brew_effect = yes
				# }
			# }
		# }
		# if = {
			# limit = { has_character_flag = brew_learning }
			# clr_character_flag = drank_brew_learning
			# add_character_modifier = { name = serpent_ale_intoxication months = 36 }
			# event_target:brew_giver = {
				# random_artifact = {
					# limit = { artifact_type = serpent_ale_keg }
					# drink_keg_brew_effect = yes
				# }
			# }
		# }
	}
	option = {
		name = EVTOPTB_WCLIFES.35
		event_target:brew_giver = { clr_character_flag = do_not_disturb }
	}
}
